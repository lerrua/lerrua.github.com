
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Migrando sua app Django da 1.4 para 1.5 - /lerrua</title>
  <meta name="author" content="Igor P. Leroy">

  
  <meta name="description" content="Migrando sua app Django da 1.4 para 1.5 written Dec 18th, 2013 in django Buenas! Recentemente atualizei uma aplicação &ldquo;gorda&rdquo; para a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lerrua.com/blog/2013/12/18/migrando-sua-app-django-da-1-dot-4-para-1-dot-5">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link href="/atom.xml" rel="alternate" title="/lerrua" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46071003-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



  <!-- custom CSS -->
  <style>
	 h2, .h2 {
		font-size: 24px;
	}
  </style>
</head>

  <body>
	  
		  <a href="/" class="home-icon">
			  <img src="/images/home.png"/>
		  </a>
	  

    <article role="article" class="full-single-article">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <h1>Migrando sua app Django da 1.4 para 1.5</h1>
        <div class="meta">
          written 








  



<time datetime="2013-12-18T12:35:00-02:00" pubdate data-updated="true">Dec 18<span>th</span>, 2013</time>
          

in
<span class="categories">
  
    <a class='category' href='/blog/categories/django/'>django</a>
  
</span>


        </div>
        <!--more-->


<p>Buenas! Recentemente atualizei uma aplicação &ldquo;gorda&rdquo; para a versão 1.5.5 do Django e resolvi compartilhar essa experiência.
Foi um pouco demorado, mas nada realmente que dure mais de um dia de trabalho. Primeiramente leia a <a href="https://docs.djangoproject.com/en/dev/releases/1.5/" title="release notes django 1.5">release notes</a>, não precisei ler nenhum outro
artigo além desse para migrar minha aplicação.</p>

<h4>Third apps</h4>

<p>Módulos como o <code>simplejson</code> e <code>localflavor</code> foram removidos do Django e se tornaram apps independentes. A simplejson pode ser facilmente substituída pelo módulo <a href="http://docs.python.org/2.7/library/json.html#module-json" title="json">json</a> nativo da linguagem.</p>

<p>Outros módulos também serão deprecados nas próximas releases, então para não ter tanto trabalho futuro sugiro dar uma lida na <a href="https://docs.djangoproject.com/en/dev/internals/deprecation/" title="roadmap">deprecation timeline</a> e já se preparar para eventuais mudanças.</p>

<h4>New-style url</h4>

<p>O padrão de urls nas templates mudou, use:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>{% url &quot;app:my_view&quot; param1 %}
</span></code></pre></td></tr></table></div></figure>


<p>
ao invés de:
<code>{% url app:my_view param1 %}</code>.</p>

<p>Esse &ldquo;novo&rdquo; padrão é válido desde a 1.3, desde que esteja usando a <code>load url from future</code> em seu template.</p>

<h4>Deprecate warnings</h4>

<p>É normal a primeiro momento rodar um runserver e se deparar com vários warnings no terminal, alguns warnings de deprecations que você solucionou os mantenedores de suas libs terceiras também terão de solucionar. Recomendo fortemente visitar
as docs de suas principais dependências e verificar o changelog, provavelmente algum homem de bem criou uma versão especifica compatível com a versão de Django que você usa.</p>

<p>Tendo esse cuidado acredito que esses warnings sumirão e você terá menos trabalho para um futuro upgrade em sua aplicação.</p>

<h4>Django 1.6</h4>

<p>Nesse fim de ano saiu a primeira release estável da 1.6, talvez vocês se perguntem porquê eu não fiz o upgrade da 1.4.x diretamente para 1.6.0 e as respostas são simples.</p>

<p>Baby-steps, seria traumático demais fazer essa atualização sem resolver as coisas novas da 1.5 primeiro e um outro motivo, dependências. Muitas libs ainda estão fazendo esse trabalho
de upgrade, onde grande parte ainda tem o Django 1.5 como base de sua release estável. Mas nada problemático, logo logo também farei esse trabalho e posto aqui novamente. ;)</p>


        <hr class="divider-short"/>

		

        
        <section>
          <h1>Comments</h1>
          <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
        </section>
        
      </div>
    </div>
  </div>
</article>

<hr class="divider-short"/>

<div class="archive-link">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        
          <a class="pull-left" href="/blog/2013/11/27/meu-ambiente-de-trabalho-em-7-itens/" title="Previous Post: Meu ambiente de trabalho em 7 itens">&laquo; Previous: Meu ambiente de trabalho em 7 itens</a>
        

        
          <a class="pull-right" href="/blog/2013/12/19/slides-introducao-a-testes-com-django/" title="Next Post: [slides] Introdução a testes com Django">Next: [slides] Introdução a testes com Django &raquo;</a>
        
      </div>
    </div>
  </div>
</div>

    <footer id="footer" class="her-row">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
  <a href="/"><h4>Home</h4></a>
</div>

<div class="col-md-2">
  <div class="social-icon-list">
    
    <a href="https://twitter.com/lerrua"><img src="/images/glyphicons_social_31_twitter.png"/></a>
    

    
    <a href="https://github.com/lerrua"><img src="/images/glyphicons_social_21_github.png"/></a>
    

    
    <a href="https://linkedin.com/in/igorleroy"><img src="/images/glyphicons_social_17_linked_in.png"/></a>
    

    
  </div>
</div>

<div class="pull-right">
  <h4>Designed by <a href="http://AdrianArtiles.com">Adrian Artiles</a>.</h4>
</div>


    </div>
  </div>
</footer>

    
      

<script type="text/javascript">
      var disqus_shortname = 'lerrua';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://lerrua.com/blog/2013/12/18/migrando-sua-app-django-da-1-dot-4-para-1-dot-5/';
        var disqus_url = 'http://lerrua.com/blog/2013/12/18/migrando-sua-app-django-da-1-dot-4-para-1-dot-5/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


    
  </body>
</html>
